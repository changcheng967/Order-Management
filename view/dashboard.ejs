<!DOCTYPE html>
<html lang="zh">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>订单管理</title>
    <link rel="stylesheet" href="/styles.css">
</head>
<body>
    <div class="dashboard-container">
        <h2>订单管理</h2>
        
        <div class="order-form">
            <h3>创建新订单</h3>
            <form action="/create-order" method="POST">
                <div class="input-field">
                    <label for="roblox_username">Roblox 用户名</label>
                    <input type="text" id="roblox_username" name="roblox_username" required>
                </div>
                <div class="input-field">
                    <label for="buyer_name">买家姓名</label>
                    <input type="text" id="buyer_name" name="buyer_name" required>
                </div>
                <div class="input-field">
                    <label for="item_wanted">所需物品</label>
                    <input type="text" id="item_wanted" name="item_wanted" required>
                </div>
                <div class="input-field">
                    <label for="total_price">总价格 (CAD)</label>
                    <input type="number" id="total_price" name="total_price" required>
                </div>
                <div class="input-field">
                    <label for="contract_signed">合同已签署 (是/否)</label>
                    <input type="text" id="contract_signed" name="contract_signed" required>
                </div>
                <div class="input-field">
                    <label for="delivery_status">交付状态</label>
                    <input type="text" id="delivery_status" name="delivery_status" required>
                </div>
                <div class="input-field">
                    <label for="estimated_delivery">预计交付时间</label>
                    <input type="text" id="estimated_delivery" name="estimated_delivery" required>
                </div>
                <button type="submit">创建订单</button>
            </form>
        </div>

        <div class="order-list">
            <h3>订单列表</h3>
            <table>
                <thead>
                    <tr>
                        <th>Roblox 用户名</th>
                        <th>买家姓名</th>
                        <th>所需物品</th>
                        <th>总价格</th>
                        <th>已支付价格</th>
                        <th>合同已签署</th>
                        <th>交付状态</th>
                        <th>预计交付时间</th>
                    </tr>
                </thead>
                <tbody>
                    <% orders.forEach(order => { %>
                        <tr>
                            <td><%= order.roblox_username %></td>
                            <td><%= order.buyer_name %></td>
                            <td><%= order.item_wanted %></td>
                            <td><%= order.total_price %></td>
                            <td><%= order.paid_price %></td>
                            <td><%= order.contract_signed %></td>
                            <td><%= order.delivery_status %></td>
                            <td><%= order.estimated_delivery %></td>
                        </tr>
                    <% }) %>
                </tbody>
            </table>
        </div>

        <a href="/logout">注销</a>
    </div>
</body>
</html>
